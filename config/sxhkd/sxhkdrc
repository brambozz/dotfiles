# Configuration file for system wide shortcuts
#
# TODO
# ====
# + Allow Esc to cancel preselection after rofi
# + After preselection wait for input: 
# 	Enter: launch terminal in preselected node
# 	Space: launch file manager in preselected node
# 	j: launch web browser in preselected node
# 	r: launch rofi 
# 	Any other key: cancel preselection
# + Switching to desktop 1 automatically open e.g. web browser if it is
# not open yet.
# + For the preselection shortcut, if there is no window on a desktop,
# it should still work

# Initialization
# ==============
export BACKLIGHT_ID=666

# System related shortcuts
# ========================
ctrl + alt + l
	lock_bspwm

ctrl + alt + q
	st shutdown_prompt

ctrl + alt + Escape
	bspc quit

# Reload sxhkd
ctrl + alt + r
	pkill -USR1 -x sxhkd

# Audio shortcuts
# ===============
{XF86AudioRaiseVolume, XF86AudioLowerVolume}
	pulsemixer --change-volume {+5,-5}; \
	notify-send -p -r 555 "Volume: $(pulsemixer --get-volume)"

XF86AudioMute
	pulsemixer --toggle-mute; \
	notify-send -p -r 555 "Volume: $(pulsemixer --get-mute)"

# Brightness keys
# ===============
{XF86MonBrightnessDown, XF86MonBrightnessUp}
	xbacklight {-dec, -inc} 10; \
	notify-send -p -r 666 "Backlight: $(xbacklight -get)"

# Window management
# =================
#
# Central idea is to press a mod key with the left hand and
# homerow +/- 1 keys to perform various actions.
# Most used actions will get hyper, then hyper+alt, then super

# Hyper bound actions
# -------------------

# Focus windows with {n, e, i, o}
hyper + {n, e, i, o}
	bspc node {south, north, east, west} -f

# Primary desktop navigation
hyper + {l, u, y, semicolon}
	bspc desktop {1, 2, 3, 4} -f

# Launch window in any direction
hyper + {m, comma, period, slash}
	bspc node -p {south, north, east, west} && rofi -show run

# Close a window 
hyper + h
	bspc node -c

# Monocle/tiled toggle
hyper + k
	bspc desktop -l next

# Launch file browser
hyper + space
	thunar

# Launch terminal
hyper + Return
	$TERM

# Launch web browser
hyper + j
	$BROWSER

# Show battery/time 
hyper + t
	battery_time

# Increase/decrease screen brightness
hyper + {q, w}
	xbacklight {-dec, -inc} 10; \
	notify-send -p -r 666 "Backlight: $(xbacklight -get)"

# Raise/lower volume
hyper + {a, r}
	pulsemixer --change-volume {-5,+5}; \
	notify-send -p -r 555 "Volume: $(pulsemixer --get-volume)"

# Mute audio
hyper + s
	pulsemixer --toggle-mute; \
	notify-send -p -r 555 "Volume: $(pulsemixer --get-mute)"

# Hyper + Alt bound actions
# -----------------
# Resize windows in any direction
# Always pulls on the outside of a window, so use it smartly
hyper + alt + {n, e, i, o}
	bspc node --resize {bottom 0 20, top 0 -20, right 20 0, left -20 0}

# Secondary desktop navigation
hyper + alt + {l, u, y, semicolon}
	bspc desktop {5, 6, 7, 8} -f

# Move windows around in any direction
hyper + alt + {m, comma, period, slash}
	bspc node -s {south, north, east, west} --follow

# Super bound actions
# -------------------
